<!-- <header-nav></header-nav> -->
<div class="content-section admin-crm-user">
	<top-bar [data]="topBar"></top-bar>
	<nz-spin [nzSpinning]="_isSpinning">
		<div nz-row>
			<div nz-col [nzSpan]="6">
				<div class="flex">
					<div class="w90p mr10 mt10">
						<a class="upload-tab">
							<img id="imgEle" src="../assets/images/img.png">
							<input type="hidden" id="file" name="file" ngModel>
							<input class="upload" type="file" (change)="selectedFile($event)">
						</a>
					</div>
					<div class="flex-1"></div>
				</div>
			</div>
			<div nz-col [nzSpan]="12">
				<div nz-form-item>
					<div nz-form-label>
						<label><span class="required">*</span>手机号码（默认为账号密码）：</label>
					</div>
					<div nz-form-control class="mt5">
						<nz-input [(ngModel)]="userInfo.mobile" [nzPlaceHolder]="'请输入电话号码'" [nzSize]="'large'"></nz-input>
					</div>
				</div>
				<div nz-form-item class="mt10">
					<div nz-form-label>
						<label><span class="required">*</span>真实姓名：</label>
					</div>
					<div nz-form-control class="mt5">
						<nz-input [(ngModel)]="userInfo.real_name" [nzPlaceHolder]="'请输入真实姓名'" [nzSize]="'large'"></nz-input>
					</div>
				</div>
				<div *ngIf="editType == 'create'" nz-form-item class="mt10">
					<div nz-form-label>
						<label><span class="required">*</span>类型：</label>
					</div>
					<div nz-form-control class="mt5">
						<nz-select [(ngModel)]="userInfo.role" [nzSize]="'large'" [nzPlaceHolder]="'请选择类型'" (nzOpenChange)="roleChange($event)" class="w100">
							<ng-container *ngFor="let role of roleList">
								<nz-option [nzLabel]="role.name" [nzValue]="role.id"></nz-option>
							</ng-container>
						</nz-select>
					</div>
				</div>
				<div *ngIf="this.userInfo.role != '9'" nz-form-item class="mt10">
					<div nz-form-label>
						<label><span class="required">*</span>角色：</label>
					</div>
					<div nz-form-control class="mt5">
						<nz-select [(ngModel)]="userInfo.clinic_role" [nzSize]="'large'" [nzPlaceHolder]="'请选择角色'" class="w100">
							<ng-container *ngFor="let clinicRole of clinicRoleList">
								<nz-option [nzLabel]="clinicRole.name" [nzValue]="clinicRole"></nz-option>
							</ng-container>
						</nz-select>
					</div>
				</div>
				<div *ngIf="addDoctor" nz-form-item class="mt10">
					<div nz-form-label>
						<label><span class="required">*</span>性别：</label>
					</div>
					<div nz-form-control class="mt5">
						<nz-select [(ngModel)]="userInfo.gender" [nzSize]="'large'" [nzPlaceHolder]="'请选择性别'" class="w100">
							<nz-option [nzLabel]="'男'" [nzValue]="'M'"></nz-option>
							<nz-option [nzLabel]="'女'" [nzValue]="'F'"></nz-option>
						</nz-select>
					</div>
				</div>
				<div *ngIf="addDoctor" nz-form-item class="mt10">
					<div nz-form-label>
						<label>医生职称：</label>
					</div>
					<div nz-form-control class="mt5">
						<nz-select [(ngModel)]="userInfo.clinical_title" [nzSize]="'large'" [nzPlaceHolder]="'请选择医生职称'" class="w100">
							<ng-container *ngFor="let clinical of clinicalTitleList">
								<nz-option [nzLabel]="clinical.name" [nzValue]="clinical.id"></nz-option>
							</ng-container>
						</nz-select>
					</div>
				</div>
				<div *ngIf="addDoctor" nz-form-item class="mt10">
					<div nz-form-label>
						<label>医生简介（最多500字）：</label>
					</div>
					<div nz-form-control class="mt5">
						<textarea nz-input [(ngModel)]="userInfo.description" placeHolder="请输入医生简介" [nzSize]="'large'" maxlength="500"></textarea>
					</div>
				</div>
				<div class="text-center mt10">
					<button (click)="create(); $event.stopPropagation();" nz-button [nzType]="'primary'" [nzSize]="'large'" [nzLoading]="btnCanEdit">保存</button>
				</div>
			</div>
		</div>
	</nz-spin>
</div>
