<header-nav></header-nav>
<div class="content admin-doctor-booking">
	<top-bar [data]="topBar"></top-bar>
	<div class="pure-g left-right-tab">
		<div class="pure-u-1-5 left-tab pr20">
			<div class="item">
				<span>姓名：</span>
				<span>{{booking.childName}}</span>
			</div>
			<div class="item">
				<span>年龄：</span>
				<span>{{booking.age}}</span>
			</div>
			<div class="item">
				<span>手机号码：</span>
				<span>{{booking.mobile}}</span>
			</div>
			<div class="item">
				<span>家长：</span>
				<span>{{booking.creatorName}}</span>
			</div>
			<div class="item">
				<span>备注：</span>
				<span>{{booking.remark}}</span>
			</div>
			<div class="item">
				<span>接诊医生：</span>
				<span>{{doctorInfo.realName}}</span>
			</div>
		</div>
		<div class="pure-u-4-5 right-tab booking-info pad10">
			<div class="second-bar-tab flex mb10">
				<div (click)="changeTab('3')" [ngClass]="{'active': selectedTab == '3'}" class="item">实验室检查</div>
				<div (click)="changeTab('6')" [ngClass]="{'active': selectedTab == '6'}" class="item">辅助治疗</div>
				<div (click)="changeTab('4')" [ngClass]="{'active': selectedTab == '4'}" class="item">处方</div>
				<!-- <div (click)="changeTab('1')" [ngClass]="{'active': selectedTab == '1'}" class="item">科室列表</div> -->
				<div (click)="changeTab('2')" [ngClass]="{'active': selectedTab == '2'}" class="item">费用列表</div>
				<div (click)="changeTab('5')" [ngClass]="{'active': selectedTab == '5'}" class="item">随访</div>
				<div (click)="goSection('doctorBookingGrowthrecords')" class="item">成长记录</div>
				<div (click)="goSection('doctorBookingCasehistory')" class="item">病历</div>
				<div (click)="goSection('doctorBookingHealthrecord')" class="item">儿保记录</div>
			</div>
			<div [ngClass]="{'hidden': selectedTab != '3'}" class="tab">
				<!-- pageType 空为医生接诊， history为查看 -->
				<div *ngIf="pageType != 'history'">
					<form #fCheck="ngForm" class="pure-form pure-form-stacked form-tab">
						<fieldset class="pad0">
							<div *ngIf="addCheckInfo.editType != ''" class="pure-g">
								<div class="pure-u-1-5 pr10">
									<div class="pure-control-group">
										<label for="check">实验室检查</label>
										<select id="check" name="check" #check="ngModel" [(ngModel)]="addCheckInfo.check" [disabled]="editType == 'update'">
											<ng-container *ngFor="let check of checklist">
												<ng-container *ngIf="check.canUse == '1'">
													<option value="{{check.string}}">{{check.name}}</option>
												</ng-container>
											</ng-container>
										</select>
										<div *ngIf="check.errors && (check.dity || check.touched)" class="alert alert-danger">
											<div [hidden]="!check.errors.required">
												检查不可为空
											</div>
										</div>
									</div>
								</div>
							</div>
						</fieldset>
						<!-- 订单未完成，可操作 -->
						<ng-container *ngIf="booking.status != '5'">
							<div class="mt10 flex">
								<div *ngIf="canEdit" class="flex-1">
									<button *ngIf="addCheckInfo.editType == ''" (click)="addCheck()" class="pure-button pure-button-primary">添加检查</button>
									<button *ngIf="addCheckInfo.editType != ''" (click)="removeCheck()" class="pure-button">取消</button>
									<button *ngIf="addCheckInfo.editType != ''" (click)="editCheck(fCheck)" class="pure-button pure-button-primary" [disabled]="btnCanEdit">{{addCheckInfo.editType == 'create' ? '创建' : '修改'}}</button>
								</div>
							</div>
						</ng-container>
					</form>
				</div>
				<div *ngIf="checkDataList.length > 0" class="mt10">
					<div class="second-bar-tab flex">
						<div class="item" (click)="changeCheckTab(check.id)" *ngFor="let check of checkDataList" [ngClass]="{'active': selectedCheckTab == check.id}">{{check.checkName}}</div>
					</div>
					<div *ngFor="let check of checkDataList">
						<div *ngIf="selectedCheckTab == check.id">
							<!-- pageType 空为医生接诊， history为查看 -->
							<div *ngIf="pageType != 'history'">
								<div *ngIf="booking.status != '5'" class="mt10 mb10 text-right">
									<button (click)="deleteCheck(check)" class="pure-button button-error">删除</button>
								</div>
							</div>
							<table class="pure-table pure-table-horizontal w100 table-tab mt10">
								<thead>
									<tr>
										<th class="w20">项目</th>
										<th class="w10">代码</th>
										<th class="w25">检查结果</th>
										<th class="w25">参考值</th>
										<th class="w10">单位</th>
										<th class="w10">性质</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let result of check.resultList">
										<td>{{result.checkInfoName}}</td>
										<!-- 检查结果为文字还是图片 -->
										<ng-container *ngIf="result.isUpload == '0'">
										<td>{{result.code}}</td>
											<td>{{result.values}}</td>
											<td>
												<div class="length-text">{{result.references}}</div>
											</td>
											<td>{{result.unit}}</td>
											<td class="text-center">
												<i *ngIf="result.compare == 'low'" class="icon-arrow-down" style="color: #458DCB"></i>
												<i *ngIf="result.compare == 'high'" class="icon-arrow-up" style="color: #C92D54"></i>
											</td>
										</ng-container>
										<ng-container *ngIf="result.isUpload == '1'">
											<td colspan="6">
												<div *ngIf="result.values && result.values != ''" class="upload-button-tab img">
													<img (click)="enlargeImg($event.target)" src="{{result.values}}" />
												</div>
											</td>
										</ng-container>
									</tr>
								</tbody>
							</table>
							<div class="pt10 pb10 flex">
								<label for="remark">备注：</label>
								<div class="flex-1">{{check.remark}}</div>
							</div>
						</div>
					</div>
				</div>
				<div *ngIf="hasCheckData && checkDataList.length == 0" class="mt10">
					<nodata title="未查询到实验室检查"></nodata>
				</div>
			</div>
			<div [ngClass]="{'hidden': selectedTab != '6'}" class="tab">
				<table *ngIf="assistList.length > 0" class="pure-table pure-table-horizontal w100 table-tab mt10 pure-form form-tab">
					<thead>
						<tr>
							<th>辅助治疗<span *ngIf="addAssistInfo.editType == 'update'" class="required">*</span></th>
							<th>辅助治疗类型<span *ngIf="addAssistInfo.editType == 'update'" class="required">*</span></th>
							<th>单价<span *ngIf="addAssistInfo.editType == 'update'" class="required">*</span></th>
							<th>数量<span *ngIf="addAssistInfo.editType == 'update'" class="required">*</span></th>
							<th>费用<span *ngIf="addAssistInfo.editType == 'update'" class="required">*</span></th>
							<th class="th-width">备注（最多200字）</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let assist of assistList">
							<td>{{assist.name}}</td>
							<td>{{assist.typeText}}</td>
							<td>{{assist.price}}</td>
							<td>
								<!-- 查看 -->
								<ng-container *ngIf="addAssistInfo.editType != 'update'">
									{{assist.number}}
								</ng-container>
								<!-- 修改 -->
								<ng-container *ngIf="addAssistInfo.editType == 'update' && addAssistInfo.editProjectId == assist.id">
									<input type="number" name="number" [(ngModel)]="addAssistInfo.number" placeholder="请输入数量" (change)="changeAssistNumber()">
								</ng-container>
							</td>
							<td>
								<!-- 查看 -->
								<ng-container *ngIf="addAssistInfo.editType != 'update'">
									{{assist.fee}}
								</ng-container>
								<!-- 修改 -->
								<ng-container *ngIf="addAssistInfo.editType == 'update' && addAssistInfo.editProjectId == assist.id">
									<input type="number" name="fee" [(ngModel)]="addAssistInfo.fee" disabled>
								</ng-container>
							</td>
							<td>
								<!-- 查看 -->
								<ng-container *ngIf="addAssistInfo.editType != 'update'">
									<div class="length-text">
										{{assist.remarks}}
									</div>
								</ng-container>
								<!-- 修改 -->
								<ng-container *ngIf="addAssistInfo.editType == 'update' && addAssistInfo.editProjectId == assist.id">
									<textarea name="remarks" maxlength="200" [(ngModel)]="addAssistInfo.remarks" placeholder="请输入备注"></textarea>
								</ng-container>
							</td>
							<td>
								<!-- pageType 空为医生接诊， history为查看 -->
								<div *ngIf="pageType != 'history'">
									<!-- 订单未完成，可操作 -->
									<ng-container *ngIf="booking.status != '5'">
										<ng-container *ngIf="canEdit">
											<button *ngIf="addAssistInfo.editType != 'update'" (click)="updateAddAssist(assist)" class="pure-button pure-button-primary">修改</button>
												<button *ngIf="addAssistInfo.editType != 'update'" (click)="deleteAssist(assist.id)" class="pure-button button-error">删除</button>
											<button *ngIf="addAssistInfo.editType == 'update'" (click)="removeAssist()" class="pure-button">取消</button>
											<button *ngIf="addAssistInfo.editType == 'update'" (click)="editAssist()" class="pure-button pure-button-primary" [disabled]="btnCanEdit">保存</button>
										</ng-container>
									</ng-container>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
				<div *ngIf="hasAssistData && assistList.length == 0" class="mt10">
					<nodata title="未查询到辅助治疗"></nodata>
				</div>
				<!-- pageType 空为医生接诊， history为查看 -->
				<div *ngIf="pageType != 'history'">
					<form class="pure-form pure-form-stacked form-tab">
						<fieldset>
							<div *ngIf="addAssistInfo.editType == 'add'" class="pure-g">
								<div class="pure-u-1-5 pr10">
									<div class="pure-control-group">
										<label for="project">
											<span>辅助治疗</span>
											<span class="required">*</span>
										</label>
										<select id="project" name="project" #project="ngModel" [(ngModel)]="addAssistInfo.project" [disabled]="editType == 'update'" (change)="changeAssist()">
											<ng-container *ngFor="let assist of assistProjects">
												<option value="{{assist.string}}">{{assist.name}}</option>
											</ng-container>
										</select>
									</div>
								</div>
								<div class="pure-u-1-5 pr10">
									<div class="pure-control-group">
										<label for="price">
											<span>单价</span>
											<span class="required">*</span>
										</label>
										<input type="number" id="price" name="price" #price="ngModel" [(ngModel)]="addAssistInfo.price" disabled>
									</div>
								</div>
								<div class="pure-u-1-5 pr10">
									<div class="pure-control-group">
										<label for="number">
											<span>数量</span>
											<span class="required">*</span>
										</label>
										<input type="number" id="number" name="number" #number="ngModel" [(ngModel)]="addAssistInfo.number" placeholder="请输入数量" (change)="changeAssistNumber()">
									</div>
								</div>
								<div class="pure-u-1-5 pr10">
									<div class="pure-control-group">
										<label for="fee">
											<span>费用</span>
											<span class="required">*</span>
										</label>
										<input type="text" id="fee" name="fee" #fee="ngModel" [(ngModel)]="addAssistInfo.fee" disabled>
									</div>
								</div>
								<div class="pure-u-1-5 pr10">
									<div class="pure-control-group">
										<label for="remarks">备注（最多200字）</label>
										<textarea id="remarks" name="remarks" maxlength="200" [(ngModel)]="addAssistInfo.remarks" placeholder="请输入备注"></textarea>
									</div>
								</div>
							</div>
						</fieldset>
						<!-- 订单未完成，可操作 -->
						<ng-container *ngIf="booking.status != '5'">
							<div class="mt10 flex">
								<div *ngIf="canEdit" class="flex-1">
									<button *ngIf="addAssistInfo.editType == ''" (click)="addAssist()" class="pure-button pure-button-primary">添加辅助治疗</button>
									<button *ngIf="addAssistInfo.editType == 'add'" (click)="removeAssist()" class="pure-button">取消</button>
									<button *ngIf="addAssistInfo.editType == 'add'" (click)="editAssist()" class="pure-button pure-button-primary" [disabled]="btnCanEdit">{{addAssistInfo.editType == 'create' ? '创建' : '保存'}}</button>
								</div>
							</div>
						</ng-container>
					</form>
				</div>
			</div>
			<div [ngClass]="{'hidden': selectedTab != '4'}" class="tab">
				<table *ngIf="prescriptList.length > 0" class="pure-table pure-table-horizontal w100 mt10">
					<thead>
						<tr>
							<th>药方名</th>
							<th>药品名</th>
							<th>批次</th>
							<th>药品单位</th>
							<th>药品数量</th>
							<th class="th-width">备注</th>
							<th>日期</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						<ng-container *ngFor="let item of prescriptList; let indexItem=index;">
							<tr *ngFor="let info of item.info; let indexInfo=index;">
								<td [attr.rowspan]="item.infoLength" *ngIf="indexInfo == '0'">{{item.name}}</td>
								<td>{{info.pname}}</td>
								<td>{{info.batch}}</td>
								<td>{{info.unit}}</td>
								<td>{{info.num}}</td>
								<td [attr.rowspan]="item.infoLength" *ngIf="indexInfo == '0'">
									<div class="length-text">{{item.remark}}</div>
								</td>
								<td [attr.rowspan]="item.infoLength" *ngIf="indexInfo == '0'">{{item.date}}</td>
								<td [attr.rowspan]="item.infoLength" *ngIf="indexInfo == '0'">
									<!-- pageType 空为医生接诊， history为查看 -->
									<div *ngIf="pageType != 'history'">
										<!-- 订单未完成，可操作 -->
										<ng-container *ngIf="booking.status != '5'">
											<div *ngIf="item.apotId && (item.isBack != 0)">-</div>
											<div *ngIf="!item.apotId">
												<button (click)="updatePrescript(item)" class="pure-button pure-button-primary">修改</button>
											</div>
											<div *ngIf="!item.apotId" class="mt10">
												<button (click)="deletePrescript(item.id)" class="pure-button button-error">删除</button>
											</div>
											<div *ngIf="item.apotId && (item.isBack == 0)" class="mt10">
												<button (click)="backdrug(item)" class="pure-button pure-button-primary">退药</button>
											</div>
										</ng-container>
									</div>
								</td>
							</tr>
						</ng-container>
					</tbody>
				</table>
				<div *ngIf="hasPrescriptData && prescriptList.length == 0" class="mt10">
					<nodata title="未查询到处方"></nodata>
				</div>
				<!-- pageType 空为医生接诊， history为查看 -->
				<div *ngIf="pageType != 'history'">
					<!-- 订单未完成，可操作 -->
					<ng-container *ngIf="booking.status != '5'">
						<div *ngIf="hasPrescriptData && prescriptList.length == 0" class="mt10 flex">
							<div *ngIf="canEdit" class="flex-1">
								<button (click)="prescript()" class="pure-button pure-button-primary">开方</button>
							</div>
						</div>
					</ng-container>
				</div>
			</div>
			<!-- <div [ngClass]="{'hidden': selectedTab != '1'}" class="tab">
				<table class="pure-table w100">
					<thead>
						<tr>
							<th class="w10"></th>
							<th class="w20">预约科室</th>
							<th class="w30">预约医生</th>
							<th class="w30">预约日期</th>
							<th class="w10">预约时间</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let service of booking.services; let index=index;" [ngClass]="{'pure-table-odd': index%2 != 0}">
							<td>{{index + 1}}</td>
							<td>{{service.serviceName}}</td>
							<td>{{service.userDoctorName}}</td>
							<td>{{service.serviceDate}}</td>
							<td>{{service.serviceTime}}</td>
						</tr>
					</tbody>
				</table> -->
				<!-- 订单未完成，可操作 -->
				<!-- <ng-container *ngIf="booking.status != '5'">
					<div *ngIf="canEdit" class="flex mt10">
						<div class="flex-1">
							<button (click)="addService()" class="pure-button pure-button-primary">追加科室</button>
						</div>
					</div>
				</ng-container>
			</div> -->
			<div [ngClass]="{'hidden': selectedTab != '2'}" class="tab">
				<table class="pure-table w100 table-tab">
					<thead>
						<tr>
							<th class="w20">
								<span>消费项目</span>
								<span *ngIf="addFeeInfo.editType == 'update'" class="required">*</span>
							</th>
							<th class="w10">
								<span>单价</span>
								<span *ngIf="addFeeInfo.editType == 'update'" class="required">*</span>
							</th>
							<th class="w10">
								<span>数量</span>
								<span *ngIf="addFeeInfo.editType == 'update'" class="required">*</span>
							</th>
							<th class="w10">
								<span>费用</span>
								<span *ngIf="addFeeInfo.editType == 'update'" class="required">*</span>
							</th>
							<th class="w30">备注说明<span *ngIf="addFeeInfo.editType == 'update'">（最多200字）</span></th>
							<th class="w20">操作</th>
						</tr>
					</thead>
					<tbody class="pure-form">
						<tr *ngFor="let fee of booking.fees; let index=index;" [ngClass]="{'pure-table-odd': index%2 != 0}">
							<ng-container *ngIf="fee.type != 'booking'">
								<td>
									<!-- 展示 -->
									<div *ngIf="addFeeInfo.editType != 'update' || addFeeInfo.feeId != fee.feeId">{{fee.typeText}}</div>
									<!-- 编辑 -->
									<div *ngIf="addFeeInfo.editType == 'update' && addFeeInfo.feeId == fee.feeId">
										<input type="text" name="project_name" #project_name="ngModel" [(ngModel)]="addFeeInfo.project_name" required="" [disabled]="addFeeInfo.editType == 'update'" placeholder="请输入消费项目名" class="w100">
									</div>
								</td>
								<td>
									<!-- 展示 -->
									<div *ngIf="addFeeInfo.editType != 'update' || addFeeInfo.feeId != fee.feeId">{{fee.price}}</div>
									<!-- 编辑 -->
									<div *ngIf="addFeeInfo.editType == 'update' && addFeeInfo.feeId == fee.feeId">
										<input type="number" step="0.01" name="price" #price="ngModel" [(ngModel)]="addFeeInfo.price" placeholder="请输入单价" (change)="changeFee()" [disabled]="addFeeInfo.editType == 'update'" class="w100">
									</div>
								</td>
								<td>
									<!-- 展示 -->
									<div *ngIf="addFeeInfo.editType != 'update' || addFeeInfo.feeId != fee.feeId">{{fee.number}}</div>
									<!-- 编辑 -->
									<div *ngIf="addFeeInfo.editType == 'update' && addFeeInfo.feeId == fee.feeId">
										<input type="number" name="number" #number="ngModel" [(ngModel)]="addFeeInfo.number" placeholder="请输入数量" (change)="changeFee()" class="w100">
									</div>
								</td>
								<td>
									<!-- 展示 -->
									<div *ngIf="addFeeInfo.editType != 'update' || addFeeInfo.feeId != fee.feeId">{{fee.fee}}</div>
									<!-- 编辑 -->
									<div *ngIf="addFeeInfo.editType == 'update' && addFeeInfo.feeId == fee.feeId">
										<input type="number" step="0.01" name="fee" #fee="ngModel" [(ngModel)]="addFeeInfo.fee" placeholder="请输入费用" required="" [disabled]="addFeeInfo.editType == 'update'" class="w100">
									</div>
								</td>
								<td>
									<!-- 展示 -->
									<div *ngIf="addFeeInfo.editType != 'update' || addFeeInfo.feeId != fee.feeId" class="length-text">{{fee.remark}}</div>
									<!-- 编辑 -->
									<div *ngIf="addFeeInfo.editType == 'update' && addFeeInfo.feeId == fee.feeId">
										<textarea name="remarks" maxlength="200" rows="3" #remarks="ngModel" [(ngModel)]="addFeeInfo.remarks" placeholder="请输入备注说明" class="w100"></textarea>
									</div>
								</td>
								<td>
									<!-- pageType 空为医生接诊， history为查看 -->
									<div *ngIf="pageType != 'history'">
										<!-- 订单未完成，可操作 -->
										<ng-container *ngIf="booking.status != '5'">
											<!-- 展示 -->
											<div *ngIf="addFeeInfo.editType != 'update' || addFeeInfo.feeId != fee.feeId">
												<button (click)="updateFee(fee)" class="pure-button pure-button-primary">修改</button>
											</div>
											<!-- 编辑 -->
											<div *ngIf="addFeeInfo.editType == 'update' && addFeeInfo.feeId == fee.feeId">
												<button *ngIf="addFeeInfo.editType != ''" (click)="removeFee()" class="pure-button">取消</button>
												<button *ngIf="addFeeInfo.editType != ''" (click)="editFee(f)" class="pure-button pure-button-primary" [disabled]="btnCanEdit">保存</button>
											</div>
										</ng-container>
									</div>
								</td>
							</ng-container>
						</tr>
					</tbody>
				</table>
				<div class="flex mt10">
					<div class="flex-1">
						<!-- pageType 空为医生接诊， history为查看 -->
						<div *ngIf="pageType != 'history'">
							<div *ngIf="canEdit && booking.status != '5'">
								<button *ngIf="addFeeInfo.editType == ''" (click)="addfee()" class="pure-button pure-button-primary">添加其它费用</button>
							</div>
						</div>
					</div>
					<div>
						总费用：{{booking.totalFee}}元
					</div>
				</div>
				<!-- pageType 空为医生接诊， history为查看 -->
				<div *ngIf="pageType != 'history'">
					<form #f="ngForm" class="pure-form pure-form-stacked form-tab">
						<fieldset>
							<div *ngIf="addFeeInfo.editType == 'create'" class="pure-g">
								<div class="pure-u-2-5 pr10">
									<div class="pure-control-group">
										<label for="project_name">
											<span>消费项目名</span>
											<span class="required">*</span>
										</label>
										<input type="text" id="project_name" name="project_name" #project_name="ngModel" [(ngModel)]="addFeeInfo.project_name" required="" placeholder="请输入消费项目名">
										<div *ngIf="project_name.errors && (project_name.dity || project_name.touched)" class="alert alert-danger">
											<div [hidden]="!project_name.errors.required">
												消费项目名不可为空
											</div>
										</div>
									</div>
								</div>
								<div class="pure-u-1-5 pl5 pr5">
									<div class="pure-control-group">
										<label for="price">
											<span>单价</span>
											<span class="required">*</span>
										</label>
										<input type="number" id="price" step="0.01" name="price" #price="ngModel" [(ngModel)]="addFeeInfo.price" placeholder="请输入单价" (change)="changeFee()">
									</div>
								</div>
								<div class="pure-u-1-5 pl5 pr5">
									<div class="pure-control-group">
										<label for="number">
											<span>数量</span>
											<span class="required">*</span>
										</label>
										<input type="number" id="number" name="number" #number="ngModel" [(ngModel)]="addFeeInfo.number" placeholder="请输入数量" (change)="changeFee()">
									</div>
								</div>
								<div class="pure-u-1-5 pl10">
									<div class="pure-control-group">
										<label for="fee">
											<span>费用</span>
											<span class="required">*</span>
										</label>
										<input type="number" id="fee" step="0.01" name="fee" #fee="ngModel" [(ngModel)]="addFeeInfo.fee" placeholder="请输入费用" required="" [disabled]="editType == 'update'">
										<div *ngIf="fee.errors && (fee.dity || fee.touched)" class="alert alert-danger">
											<div [hidden]="!fee.errors.required">
												费用不可为空
											</div>
										</div>
									</div>
								</div>
								<div class="pure-u-2-5 pr10">
									<div class="pure-control-group">
										<label for="remarks">备注说明（最多200字）</label>
										<textarea name="remarks" maxlength="200" #remarks="ngModel" [(ngModel)]="addFeeInfo.remarks" placeholder="请输入备注说明"></textarea>
									</div>
								</div>
							</div>
						</fieldset>
						<!-- 订单未完成，可操作 -->
						<ng-container *ngIf="booking.status != '5'">
							<div class="mt10">
								<div *ngIf="canEdit">
									<button *ngIf="addFeeInfo.editType == 'create'" (click)="removeFee()" class="pure-button">取消</button>
									<button *ngIf="addFeeInfo.editType == 'create'" (click)="editFee(f)" class="pure-button pure-button-primary" [disabled]="btnCanEdit">创建</button>
								</div>
							</div>
						</ng-container>
					</form>
				</div>
			</div>
			<div [ngClass]="{'hidden': selectedTab != '5'}" class="tab">
				<table *ngIf="followupsList.length > 0" class="pure-table w100 table-tab">
					<thead>
						<tr>
							<!-- <th class="w10">随访人员</th> -->
							<th class="w10">随访时间</th>
							<th class="w25">随访内容和原因</th>
							<th class="w20">备注</th>
							<th class="w25">结果</th>
							<th class="w10">状态</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let followups of followupsList; let index=index;" [ngClass]="{'pure-table-odd': index%2 != 0}">
							<!-- <td>{{followups.upUserName}}</td> -->
							<td>{{followups.time}}</td>
							<td>
								<div class="length-text">{{followups.account}}</div>
							</td>
							<td>
								<div class="length-text">{{followups.remarks}}</div>
							</td>
							<td>
								<div class="length-text">{{followups.results}}</div>
							</td>
							<td>{{followups.status}}</td>
						</tr>
					</tbody>
				</table>
				<div *ngIf="hasFollowupsData && followupsList.length == 0" class="mt10">
					<nodata title="未查询到随访"></nodata>
				</div>
				<!-- pageType 空为医生接诊， history为查看 -->
				<div *ngIf="pageType != 'history'">
					<div class="mt20">
						<button (click)="addFollowups()" class="pure-button pure-button-primary">新增随访</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="modal" *ngIf="modalConfirmTab">
	<div class="modal-mask" (click)="closeConfirm()"></div>
	<div class="container">
		<div class="title">提示</div>
		<div class="content pad10">
			{{selector.text}}
		</div>
		<div class="button-tab pad10 text-right">
			<button (click)="closeConfirm()" class="pure-button">关闭</button>
			<button (click)="confirm()" class="pure-button pure-button-primary">确认</button>
		</div>
	</div>
</div>
<modal-toast modalTab="{{toast.show}}" text="{{toast.text}}" type="{{toast.type}}"></modal-toast>
<modal-img url="{{modalImg.url}}" showImg="{{modalImg.showImg}}" (onVoted)="closeImg()"></modal-img>
<loading [show]="loadingShow"></loading>
